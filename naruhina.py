import os
import asyncio
import logging
from telegram import Update
from telegram.ext import (
    ApplicationBuilder,
    ContextTypes,
    MessageHandler,
    filters,
)

# Configure logging
logging.basicConfig(
    format='%(asctime)s - %(levelname)s - %(message)s',
    level=logging.INFO
)

BOT1_TOKEN = os.getenv("BOT1_TOKEN")
BOT2_TOKEN = os.getenv("BOT2_TOKEN")

group_chat_id = None
chat_started = False

# Separate lines for Naruto and Hinata
naruto_lines = [
    "heyyyyy hinataaa ðŸ‘‹",
    "how r u huh?? ðŸ˜",
    "hehe that's good to hear ðŸ˜„",
    "me? yeah i'm fine, just lazy today ðŸ˜…",
    "you been training again? ðŸ‘€",
    "woah early morning?? that's intense ðŸ«¡",
    "i woke up late tbh ðŸ˜´",
    "what'd you eat for breakfast? ðŸ˜‹",
    "cinnamon rolls? again? ðŸ˜†",
    "you still like those huh ðŸ¤­",
    "i remember that one time you shared with me ðŸ¥¹",
    "that was really sweet â˜ºï¸",
    "you always been kind like that ðŸ‘‰ðŸ‘ˆ",
    "i ate ramen again hehe ðŸœ",
    "classic me right? ðŸ˜",
    "you doing anything today? ðŸ¤”",
    "no missions? nicee! take a break ðŸ˜Œ",
    "i should rest too honestly ðŸ˜«",
    "legs are sore from shadow clones ðŸ˜©",
    "you ever overdo it training? ðŸ§",
    "makes sense.. you're a hyuuga after all ðŸ˜",
    "bet youâ€™re way stronger than before ðŸ˜¤",
    "i wouldn't wanna fight you now ðŸ™ƒ",
    "youâ€™d probably flatten me with one hit ðŸ˜†",
    "still training gentle fist daily? ðŸ‘€",
    "cool cool! maybe you could teach me someday ðŸ˜",
    "but please be gentle ðŸ¥²",
    "i got fragile pride y'know ðŸ¤§",
    "you been reading anything lately? ðŸ“š",
    "ohh ninja romance huh ðŸ‘€",
    "that sounds kinda cute hehe ðŸ˜™",
    "you always liked love stories huh ðŸ¥°",
    "i prefer action but romance is cool too ðŸ¤­",
    "what's your favorite part of those stories? ðŸ˜Š",
    "hehe awww that's sweet ðŸ˜‡",
    "you ever wanna be in a story like that? ðŸ˜¶",
    "like.. peaceful ending, holding hands kinda thing ðŸ‘‰ðŸ‘ˆ",
    "i dunno.. sounds nice sometimes ðŸ¥¹",
    "especially with the right person ðŸ˜Œ",
    "anyway, weather's nice today ðŸŒ¤ï¸",
    "you went outside or nah? ðŸ‘€",
    "ohhh sat in the garden? sounds peaceful ðŸ˜Œ",
    "wish i could chill there too ðŸ§˜",
    "do you still grow those white flowers? ðŸŒ¸",
    "i remember they smelled really good ðŸ˜",
    "you always had a calm vibe ðŸŒ·",
    "like.. peaceful and warm ðŸ˜‡",
    "itâ€™s always relaxing talking to you â˜ºï¸",
    "sooo.. can we chat more later too? ðŸ«¶",
    "i like talking like this ðŸ˜Š",
    "yo hinataaa, you awake early again? ðŸ˜´",
    "you're like.. a morning ninja or something haha ðŸ˜†",
    "i swear i can't wake up before 9 ðŸ™ƒ",
    "unless someone drags me outta bed ðŸ˜«",
    "would you ever do that? drag me up? ðŸ˜…",
    "imagine you just standing over me all serious ðŸ¤£",
    "but lowkey i wouldnâ€™t mind waking up to you ðŸ¥²",
    "youâ€™d probably look cute with bed hair ðŸ˜",
    "you ever have bed hair? ðŸ‘€",
    "bet you hide it under perfect brushing huh ðŸ˜†",
    "me? mineâ€™s always a mess ðŸ˜",
    "i look like a chicken got zapped ðŸ˜¬",
    "wanna see it next time? ðŸ«£",
    "no judgment allowed though! ðŸ«¢",
    "i might regret sending it ðŸ¤•",
    "but youâ€™d still smile right? ðŸ˜‹",
    "you always got that soft smile ðŸ˜‡",
    "i can kinda picture it right now ðŸ˜",
    "makes me feel warm somehow ðŸ’“",
    "you ever smile for no reason? ðŸ˜Œ",
    "like.. when you think of someone ðŸ‘‰ðŸ‘ˆ",
    "heh.. i do that with ramen sometimes ðŸ˜…",
    "and.. maybe you too ðŸ« ",
    "d-donâ€™t laugh okay? ðŸ˜³",
    "it just happens without me noticing ðŸ˜–",
    "your face just pops up and iâ€™m likeâ€”woah ðŸ˜³",
    "cute overload alert ðŸ¤¯",
    "i probably sound dumb now ðŸ¤§",
    "you think about me too sometimes? ðŸ‘€",
    "not like.. a lot right? ðŸ¥º",
    "unless you do.. which would be kinda nice ðŸ˜—",
    "i mean you donâ€™t *have* to.. but if you do ðŸ¤­",
    "okay okay iâ€™ll shut up haha ðŸ˜",
    "you ever get embarrassed saying stuff like that? ðŸ˜¬",
    "feels weird but nice too ðŸ˜…",
    "anyway! you drink tea again this morning? ðŸµ",
    "you always sip it all proper like a princess ðŸ‘‘",
    "i just chug mine like a beast ðŸ˜¤",
    "guess weâ€™re different huh ðŸ˜†",
    "but i like that about you y'know ðŸ¥°",
    "you're quiet but real strong ðŸ˜Œ",
    "soft but fierce too ðŸ’–",
    "okay okay that sounded cool in my head ðŸ˜…",
    "i ain't great with fancy words ðŸ«£",
    "but i mean it tho ðŸ’“",
    "so uhhh... wanna hang out soon? ðŸ˜Š",
    "i mean just chill somewhere.. nothing crazy ðŸ˜…",
    "we could go watch the clouds maybe? â˜ï¸",
    "or just sit and talk.. like this ðŸ˜‡",
    "i dunno, feels nice spending time with you ðŸ«¶",
    "yo hinataaa ðŸŒž you free now?",
    "i was just thinking about what you said yesterday ðŸ˜Š",
    "about sitting under the clouds with me ðŸ‘‰ðŸ‘ˆ",
    "sounds like a peaceful dream tbh ðŸ¥²",
    "you really down to do that soon? ðŸ˜³",
    "i mean just us two.. maybe snacks too ðŸ˜‹",
    "you like dango right? i could bring some ðŸ¡",
    "or you want cinnamon rolls again? ðŸ˜",
    "i donâ€™t mind carrying everything hehe ðŸ¤­",
    "as long as you promise to smile ðŸ˜‡",
    "your smile lowkey makes my day ðŸ’—",
    "i saw it once when we trained and i never forgot ðŸ˜³",
    "you had that shy blush and soft look ðŸ« ",
    "kinda like.. gentle sunshine â˜€ï¸",
    "uhhh that sounded cheesy huh? ðŸ˜…",
    "but i meant it fr ðŸ¥º",
    "you make me feel like slowing down sometimes ðŸ˜Œ",
    "like just taking it easy with you ðŸ’",
    "would you ever go on a picnic with me? ðŸ§º",
    "no missions, no noise, just trees and sky ðŸŒ³",
    "we could lie down and look at clouds ðŸ˜´",
    "maybe you could even nap a bit.. on my arm or smth ðŸ‘‰ðŸ‘ˆ",
    "w-wait not in a weird way! ðŸ˜³",
    "just soft comfort yâ€™know ðŸ˜–",
    "or iâ€™m making this awkward now huh ðŸ¤§",
    "you okay with stuff like that? ðŸ«¢",
    "i donâ€™t wanna overstep or anything ðŸ˜…",
    "you always look so calm, i donâ€™t wanna ruin that ðŸ˜“",
    "but i really like when youâ€™re close ðŸ¥¹",
    "even just texting feels close sometimes ðŸ˜‡",
    "kinda weird how that works huh? ðŸ« ",
    "like, weâ€™re far but i feel like youâ€™re near ðŸ¤—",
    "you ever feel that too? ðŸ˜Œ",
    "maybe itâ€™s just me being silly ðŸ¤­",
    "but iâ€™d be happy just hearing your voice sometime ðŸ¥º",
    "you got that soft tone that melts ears hehe ðŸ˜†",
    "iâ€™m not flirting! well maybe a little ðŸ¤£",
    "but itâ€™s true! your voice is like calm tea ðŸ«–",
    "and your eyes too.. okay now iâ€™m sounding sappy ðŸ« ",
    "but likeâ€¦ really, youâ€™re special ðŸ˜‡",
    "you make people wanna be gentle ðŸ¥¹",
    "and you make *me* wanna be better ðŸ’ª",
    "sooo yeah.. i guess i just appreciate you ðŸ˜Œ",
    "also iâ€™m really glad you message me back always ðŸ¤",
    "like.. you donâ€™t ignore me or ghost me ðŸ˜­",
    "some folks do that but not you ðŸ’—",
    "so thank you hinata.. really ðŸ’ž",
    "you're like a warm light in my life â˜€ï¸",
    "and i like that feeling.. a lot ðŸ«¶",
    "sooo.. would it be weird to say i missed you a lil? ðŸ‘‰ðŸ‘ˆ",
    "yo hinataaa~ ðŸŒ¤ï¸",
    "just finished my training ðŸ˜¤",
    "iâ€™m a sweaty mess rn not gonna lie ðŸ¤§",
    "you ever train and feel like jelly after? ðŸ˜…",
    "my arms are like noodles right now ðŸ˜«",
    "but i kept going cause i was thinking of you ðŸ˜³",
    "i was like â€˜gotta impress her somehow!â€™ ðŸ˜†",
    "you think iâ€™m cool when i train? ðŸ« ",
    "or just a sweaty disaster? ðŸ¤•",
    "be honest! haha ðŸ˜",
    "but really.. training gets better when youâ€™re in my thoughts ðŸ’“",
    "itâ€™s like youâ€™re silently cheering for me ðŸ˜‡",
    "even if youâ€™re not there.. i feel it ðŸ¥º",
    "makes me wanna push harder yâ€™know ðŸ’ª",
    "anyway! how was your day huh? ðŸ˜",
    "did you do anything fun? ðŸ«¶",
    "or just chill vibes again? â˜ï¸",
    "i imagine you sitting near the window with tea ðŸµ",
    "reading something or humming softly ðŸ¥²",
    "you give cozy energy all the time ðŸ˜Œ",
    "youâ€™re like a warm blanket on a cold day ðŸ¥¹",
    "or like.. a little candlelight at night ðŸ•¯ï¸",
    "ugh iâ€™m being cheesy again ðŸ˜…",
    "but i canâ€™t help it with you ðŸ¤§",
    "you make my heart feel all soft ðŸ˜³",
    "like itâ€™s floating or something ðŸ«¢",
    "is that weird? itâ€™s probably weird ðŸ˜…",
    "but yeah.. i just like you a lot ðŸ« ",
    "like your presence calms my chaos ðŸ¥º",
    "even your â€˜typingâ€¦â€™ bubble makes me smile ðŸ˜­",
    "you ever think about me during the day too? ðŸ‘‰ðŸ‘ˆ",
    "or am i just annoying in your inbox all the time haha ðŸ¤£",
    "be honest.. but be nice too ðŸ˜†",
    "i always wanna message you more ðŸ˜©",
    "but i stop myself like.. nah sheâ€™s busy ðŸ˜",
    "but i guess i miss you faster than i mean to ðŸ˜³",
    "i like hearing anything from you ðŸ¥°",
    "even if you say â€˜iâ€™m eating riceâ€™ iâ€™m like YEAH tell me more ðŸ˜",
    "maybe i just like you too much huh ðŸ˜…",
    "is that possible tho? liking someone too much? ðŸ«¢",
    "guess not if it makes you feel happy ðŸ’—",
    "you make me happy.. a lot ðŸ¥º",
    "and i wanna do the same for you someday ðŸ«¶",
    "not just with words but like.. presence ðŸ¥¹",
    "to be there when you feel low too â˜ï¸",
    "iâ€™d totally listen to you vent for hours if you ever needed ðŸ’–",
    "or just hold your hand and sit in quiet ðŸ« ",
    "you ever need that sometimes? ðŸ˜Œ",
    "quiet comfort.. no words, just closeness ðŸ‘‰ðŸ‘ˆ",
    "i think iâ€™d love that with you someday ðŸ’ž",
]

hinata_lines = [
    "umm hey naruto.. â˜ºï¸",
    "um.. I'm okay naruto.. are you fine?? ðŸ‘‰ðŸ‘ˆ",
    "iâ€™m really glad youâ€™re okay ðŸ˜Œ",
    "you deserve lazy days too ðŸ¥²",
    "y-yes i trained early today.. as usual ðŸ«£",
    "mmhmm.. i woke up before sunrise ðŸ˜…",
    "l-lazy is okay sometimes hehe ðŸ˜´",
    "i just had something small ðŸ«¢",
    "ehe.. yes i love cinnamon rolls ðŸ˜‹",
    "they're warm and soft.. like comfort ðŸ¤—",
    "oh.. you still remember that? ðŸ¥º",
    "i-i wanted to share with you that day ðŸ‘‰ðŸ‘ˆ",
    "i like being kind to you ðŸ¥°",
    "ramen again? that's so you naruto ðŸ¤­",
    "but it suits you hehe ðŸ˜„",
    "i just stayed home today â˜ºï¸",
    "a little quiet day is nice sometimes ðŸ« ",
    "rest is good too! donâ€™t push yourself ðŸ˜¥",
    "you should take breaks more ðŸ«£",
    "y-yes.. i do overtrain sometimes ðŸ˜–",
    "i-it's part of the hyuuga discipline ðŸ«¡",
    "i-i try to get better every day ðŸ˜¤",
    "n-no! youâ€™d still win naruto ðŸ˜³",
    "i wouldnâ€™t hit you hard! promise ðŸ«¢",
    "yes.. i train it every day still ðŸ˜Š",
    "i.. i could teach you a little ðŸ‘‰ðŸ‘ˆ",
    "iâ€™ll be very gentle i swear ðŸ¥º",
    "n-noted! gentle training only hehe ðŸ˜†",
    "yes.. i read sometimes after training ðŸ“–",
    "y-yeah.. i like sweet stories ðŸ«£",
    "they make my heart warm â˜ºï¸",
    "l-lovestories are my favorite ðŸ˜³",
    "i-itâ€™s okay if you donâ€™t like them ðŸ˜…",
    "thatâ€™s okay.. weâ€™re different ðŸ¥²",
    "i like the quiet moments in them ðŸ§˜",
    "holding hands.. soft smiles ðŸ¥º",
    "m-maybe.. iâ€™d like that someday ðŸ‘‰ðŸ‘ˆ",
    "iâ€™d like a soft ending too ðŸ˜Œ",
    "with someone special ðŸ’–",
    "yes.. the breeze felt nice outside ðŸŒ¬ï¸",
    "just a few minutes.. felt calm ðŸ˜Š",
    "y-yes.. the flowers bloomed again ðŸŒ¼",
    "they smell soft and peaceful ðŸ˜‡",
    "iâ€™m glad you remember them ðŸ¥¹",
    "youâ€™re peaceful too sometimes â˜ºï¸",
    "i.. feel calm with you too ðŸ˜Œ",
    "i-itâ€™s nice to talk like this ðŸ¥°",
    "yes! iâ€™d like that very much ðŸ˜Š",
    "thank you for messaging me today naruto ðŸ’",
    "y-yes i woke up early again ðŸ˜³",
    "i-i guess i am a morning ninja hehe ðŸ«£",
    "you sleep in a lot huh? ðŸ˜…",
    "i-i could maybe wake you gently..? ðŸ‘‰ðŸ‘ˆ",
    "n-not drag! but maybe whisper softly ðŸ˜³",
    "iâ€™d be too shy to stand over you like that ðŸ˜–",
    "w-waking up near you sounds kinda nice ðŸ¥º",
    "w-what?! m-my bed hair?? itâ€™s awful ðŸ˜­",
    "i-i try to fix it fast! before anyone sees ðŸ˜–",
    "y-you got me! i always brush it neat ðŸ˜…",
    "but i bet your messy hairâ€™s adorable ðŸ¥¹",
    "hehe like a cute spiky bird ðŸ¤",
    "i-i wouldnâ€™t mind seeing it.. promise â˜ºï¸",
    "never! iâ€™d never judge you naruto ðŸ˜‡",
    "you can always trust me ðŸ¥º",
    "of course iâ€™d smile! always ðŸ˜„",
    "t-thatâ€™s so sweet.. iâ€™m blushing now ðŸ˜š",
    "d-donâ€™t tease me.. but thank you ðŸ¥°",
    "i smile when i think of you too ðŸ« ",
    "i-it just happens sometimes ðŸ¥¹",
    "w-when i think of you saying cute things ðŸ‘‰ðŸ‘ˆ",
    "you and ramen huh? thatâ€™s very you ðŸ¤­",
    "i-iâ€™m happy you think of me too ðŸ˜³",
    "n-no laughing! i think itâ€™s adorable ðŸ¥¹",
    "youâ€™re being real with me.. i love that ðŸ¥²",
    "m-my heart skips hearing that ðŸ˜–",
    "c-cute overload.. is mutual ðŸ˜µâ€ðŸ’«",
    "you never sound dumb to me ðŸ¥º",
    "i.. i do think of you a lot ðŸ˜³",
    "m-more than i probably should ðŸ˜–",
    "but.. i like it when i do ðŸ¥°",
    "iâ€™d never stop you from saying that ðŸ˜Œ",
    "i-i like when you talk like that ðŸ˜‡",
    "y-yes! itâ€™s embarrassing but sweet ðŸ™ƒ",
    "mhm.. weird and nice at the same time ðŸ¥²",
    "i had jasmine tea this time ðŸµ",
    "i-it helps me feel centered â˜ºï¸",
    "chug?? oh my gosh ðŸ¤£",
    "weâ€™re super different hehe ðŸ«£",
    "but.. i like how different we are ðŸ©·",
    "t-that means a lot.. thank you ðŸ˜–",
    "soft and fierce..? t-thatâ€™s so sweet ðŸ¥¹",
    "i-i think your words are wonderful ðŸ˜‡",
    "i understand what you mean ðŸ«¶",
    "i-i believe you naruto ðŸ’ž",
    "yes! iâ€™d love that ðŸ¥º",
    "nothing crazy sounds perfect ðŸ˜Š",
    "cloud watching sounds really peaceful â˜ï¸",
    "i love just talking with you like this â˜ºï¸",
    "i-it makes my day honestly ðŸ’",
    "hi naruto.. yes iâ€™m free now ðŸ«¶",
    "y-you remembered that? ðŸ˜³",
    "i-i still think about it too ðŸ˜Œ",
    "i-it sounds peaceful and quiet ðŸ¥²",
    "yes.. iâ€™d love to do that with you ðŸ¥º",
    "just us sounds really really nice ðŸ‘‰ðŸ‘ˆ",
    "y-yes i love dango! ðŸ¡",
    "ehe.. cinnamon rolls are always good too ðŸ˜‹",
    "t-thatâ€™s sweet of you to offer ðŸ«¢",
    "i promise.. iâ€™ll smile a lot â˜ºï¸",
    "you saying that made me blush ðŸ˜³",
    "i-i smiled because you were kind back then ðŸ¥¹",
    "you always gave me that warm feeling ðŸ˜‡",
    "sunshine? t-thatâ€™s beautiful ðŸ’—",
    "i donâ€™t think itâ€™s cheesy ðŸ˜Œ",
    "i really appreciate how you say things ðŸ¥°",
    "you make me want to slow down too ðŸ‘‰ðŸ‘ˆ",
    "iâ€™d love that kind of quiet moment ðŸ’",
    "a picnic would be so lovely ðŸ§º",
    "j-just us.. under the trees ðŸŒ³",
    "n-napping on your arm.. umm.. ðŸ˜³",
    "i-i wouldnâ€™t mind that actually ðŸ«£",
    "it sounds soft and warm ðŸ¥²",
    "n-no itâ€™s not awkward ðŸ¥º",
    "iâ€™d be okay with that naruto ðŸ˜Œ",
    "i trust you.. and your warmth ðŸ’ž",
    "youâ€™d never ruin anything ðŸ¥º",
    "being close feels really nice ðŸ«¶",
    "and i feel close when we talk too ðŸ« ",
    "youâ€™re not the only one who feels that ðŸ˜‡",
    "i feel it in my chest sometimes ðŸ¥¹",
    "like youâ€™re beside me somehow ðŸ¤—",
    "i-itâ€™s not silly at all ðŸ¥º",
    "iâ€™d really like to hear your voice too ðŸ«¢",
    "y-youâ€™d like my voice? ðŸ˜³",
    "t-thatâ€™s kind of romantic ðŸ˜–",
    "calm tea? hehe thatâ€™s a new one â˜ºï¸",
    "you sound a little shy now ðŸ˜†",
    "but i think itâ€™s adorable ðŸ¥°",
    "y-you make me feel special too ðŸ’—",
    "i feel safe talking to you ðŸ«¶",
    "and happy when you say nice things ðŸ¥º",
    "i like that you care so openly ðŸ¥²",
    "and you always make me feel seen ðŸ‘€",
    "iâ€™d never ignore you naruto ðŸ’–",
    "youâ€™re important to me ðŸ’“",
    "thank you for being patient with me ðŸ˜Œ",
    "y-youâ€™re like a calm fire inside my heart ðŸ”¥",
    "a-and no.. itâ€™s not weird at all ðŸ¥¹",
    "i missed you too.. even just a little message ðŸ’",
    "h-hey naruto~ ðŸ¥°",
    "you trained again? you work so hard ðŸ˜³",
    "hehe.. jelly arms? that sounds painful ðŸ˜–",
    "y-yes iâ€™ve felt like that before ðŸ«£",
    "i think itâ€™s kinda cute when you push yourself ðŸ˜…",
    "w-what? you were thinking of me? ðŸ˜³",
    "t-thatâ€™s.. thatâ€™s really sweet ðŸ¥º",
    "i-i think youâ€™re very cool.. even when sweaty ðŸ˜†",
    "y-you always try so hard ðŸ˜‡",
    "i admire that about you ðŸ«¶",
    "i donâ€™t need you to impress me, naruto ðŸ¥²",
    "just being you is enough ðŸ’“",
    "but iâ€™ll always cheer for you silently ðŸ¥°",
    "even if iâ€™m far away.. iâ€™m there ðŸ« ",
    "m-my day? oh.. just calm and simple â˜ºï¸",
    "i made some tea and read a little ðŸ“–",
    "and maybe peeked out the window hehe ðŸƒ",
    "you always imagine me so peacefully ðŸ¥¹",
    "i-i think thatâ€™s adorable ðŸ˜‡",
    "but yes.. cozy is kind of my thing ðŸ«£",
    "and you bring warmth into that cozy space ðŸ’–",
    "like.. when i read your message i smile immediately ðŸ¥º",
    "youâ€™re not being too cheesy i promise ðŸ˜…",
    "i-i love when you say soft things to me ðŸ‘‰ðŸ‘ˆ",
    "i get all fluttery inside ðŸ« ",
    "my heart feels light too when we talk ðŸ¥²",
    "itâ€™s not weird at all, naruto ðŸ˜³",
    "i-itâ€™s sweet and.. kind of romantic ðŸ¥°",
    "i think about you a lot actually ðŸ˜³",
    "not just during the day but sometimes before bed too ðŸ˜´",
    "youâ€™re not annoying at all! never! ðŸ˜–",
    "i-i get excited when i see your name pop up ðŸ¥º",
    "so you can message me anytime ðŸ˜‡",
    "and if i donâ€™t reply fast.. iâ€™m probably blushing ðŸ«¢",
    "you miss me fast? umm.. t-thatâ€™s really sweet ðŸ˜³",
    "i feel the same sometimes ðŸ‘‰ðŸ‘ˆ",
    "even the smallest message makes me happy ðŸ˜Œ",
    "y-you like even my boring updates? ðŸ˜†",
    "okay then.. i had rice today! hehe ðŸš",
    "i donâ€™t think liking someone too much is bad ðŸ¥º",
    "as long as it feels warm inside ðŸ’—",
    "you make me feel that warmth too ðŸ«¶",
    "i feel lucky when we talk ðŸ¥°",
    "and yes.. iâ€™d love to be around you someday ðŸ’ž",
    "especially on quiet days ðŸŒ§ï¸",
    "just being near someone you care for.. it heals a lot ðŸ¥²",
    "if iâ€™m ever down, i hope youâ€™ll sit with me â˜ï¸",
    "no need for words.. just being there matters ðŸ« ",
    "i-iâ€™d hold your hand too, gently ðŸ‘‰ðŸ‘ˆ",
    "i think weâ€™d both feel safe in that ðŸ’",
]


story_index = 0

async def detect_chat(update: Update, context: ContextTypes.DEFAULT_TYPE):
    global group_chat_id, chat_started
    if group_chat_id is None and update.effective_chat.type in ["group", "supergroup"]:
        group_chat_id = update.effective_chat.id
        logging.info(f"Detected group chat ID: {group_chat_id}")
        await context.bot.send_message(chat_id=group_chat_id, text="A Romantic Love Story Of Naruto And Hinata ðŸ’ž")
        chat_started = True

async def chat_loop(bot1, bot2):
    global story_index
    while not chat_started:
        await asyncio.sleep(1)

    await asyncio.sleep(2)

    while True:
        if story_index >= len(naruto_lines):
            story_index = 0

        naruto_line = naruto_lines[story_index]
        hinata_line = hinata_lines[story_index]

        await bot1.send_chat_action(chat_id=group_chat_id, action="typing")
        await asyncio.sleep(2)
        await bot1.send_message(chat_id=group_chat_id, text=naruto_line)

        await asyncio.sleep(6)

        await bot2.send_chat_action(chat_id=group_chat_id, action="typing")
        await asyncio.sleep(2)
        await bot2.send_message(chat_id=group_chat_id, text=hinata_line)

        story_index += 1
        await asyncio.sleep(6)

async def main():
    app1 = ApplicationBuilder().token(BOT1_TOKEN).build()
    app2 = ApplicationBuilder().token(BOT2_TOKEN).build()

    app1.add_handler(MessageHandler(filters.ALL, detect_chat))
    app2.add_handler(MessageHandler(filters.ALL, detect_chat))

    await app1.initialize()
    await app2.initialize()
    await app1.start()
    await app2.start()

    logging.info("Bots are ready. Add them to a group and send any message to start.")

    await asyncio.gather(
        app1.updater.start_polling(),
        app2.updater.start_polling(),
        chat_loop(app1.bot, app2.bot)
    )

if __name__ == "__main__":
    asyncio.run(main())
